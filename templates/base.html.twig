<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Invoice{% endblock %}</title>
        {% block stylesheets %}

            <link rel="stylesheet" href="/css/base.css">

            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        
            <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
            <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

        {% endblock %}

        {% block stylesheets1 %}{% endblock %}
    </head>
    <body>
        {% block body %}
            <div class="header">
                {% block header %}
                    <h1 class="logo">{% block logo %}Invoice{% endblock %}</h1>
                {% endblock %}
            </div>

            <div class="content">
                {% block content %}{% endblock %}
            </div>
        {% endblock %}
        
        {% block javascripts %}

            {# widgets for select fields #}
           
            <script>
                $(document).ready(function() {
                    $('.js-select2-invoice-supplier').select2({
                        ajax: {
                            url: '/ajax/search/invoice/supplier',
                            dataType: 'json',
                            delay: 350,
                            
                            data: function (params) {
                                return {
                                    q: params.term,
                                    
                                }; 
                            },
                            processResults: function (data) { 
                                
                                return {
                                    results: data,
                                    
                                };   
                            },
                        },
                        minimumInputLength: 2,
                        allowClear: true,
                        placeholder: '',
                    });
                })
            </script>

            <script>
                $(document).ready(function() {
                    $('.js-select2-invoice-recipient').select2({
                        ajax: {
                            url: '/ajax/search/invoice/recipient',
                            dataType: 'json',
                            delay: 350,
                            
                            data: function (params) {
                                return {
                                    q: params.term,
                                    
                                }; 
                            },
                            processResults: function (data) { 
                                
                                return {
                                    results: data,
                                    
                                };   
                            },
                        },
                        minimumInputLength: 2,
                        allowClear: true,
                        placeholder: '',
                    });
                })
            </script>

            <script>
                $(document).ready(function() {
                    $('.js-select2-invoice-position').select2({
                        ajax: {
                            url: '/ajax/search/invoice/position',
                            dataType: 'json',
                            delay: 350,
                            
                            data: function (params) {
                                return {
                                    q: params.term,
                                    
                                }; 
                            },
                            processResults: function (data) { 
                                
                                return {
                                    results: data,
                                    
                                };   
                            },
                        },
                        minimumInputLength: 2,
                        allowClear: true,
                        placeholder: '',
                    });
                })
            </script>
           
        {% endblock %}
    </body>
</html>
